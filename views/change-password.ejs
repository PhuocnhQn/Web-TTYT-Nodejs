<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Change Password</title>
    <link rel="stylesheet" href="/css/change-password.css">
    <link rel="stylesheet" href="/css/dashboard.css">
</head>

<body>
    <header>
        <h1>Welcome, <%= user.name %>
        </h1>
        <% if (user.role==='admin' ) { %>
            <p>Role: <%= user.role %>
            </p>
            <% } %>

    </header>

    <!-- Dashboard Menu -->
    <nav>
        <ul>
            <li><a href="/dashboard" class="nav-link">Trang ch·ªß</a></li>
            <% if (user.role==='admin' ) { %>
                <li class="reports-menu">
                    <a href="#" class="nav-link">Admin</a>
                    <ul class="sub-menu">
                        <li><a href="/add-user" class="nav-link">Qu·∫£ng tr·ªã ng∆∞·ªùi d√πng</a></li>
                        <li><a href="/qr" class="nav-link">T·∫°o QR</a></li>
                    </ul>
                </li>
                <% } %>
                    <li class="reports-menu">
                        <a href="#" class="nav-link">B√°o C√°o</a>
                        <ul class="sub-menu">
                            <li><a href="/reports/view" class="nav-link">B√°o C√°o Th√°ng</a></li>
                            <li><a href="/reports/aggregated" class="nav-link">B√°o C√°o T·ªïng H·ª£p</a></li>
                        </ul>
                    </li>
                    <li><a href="/user/change-password" class="nav-link">ƒê·ªïi m·∫≠t kh·∫©u</a></li>
                    <li><a href="/logout" class="logout-btn">ƒêƒÉng xu·∫•t</a></li>
        </ul>
    </nav>
    <main>
        <div class="container">
            <h2>Thay ƒë·ªïi m·∫≠t kh·∫©u</h2>
            <!-- H·ªôp tho·∫°i chi ti·∫øt s·ª≠a ƒë·ªïi -->
            <dialog id="listReportDialog">
                <div id="modificationDetails" style="margin-top: 20px;">
                    <h2>Chi ti·∫øt s·ª≠a ƒë·ªïi:</h2>
                    <p id="modifiedBy"></p>
                    <p id="modifiedAt"></p>
                    <ul id="modificationFields"></ul>
                    <button id="closeDialog1">ƒê√≥ng</button>
                </div>
            </dialog>
            <!-- H·ªôp tho·∫°i th√¥ng b√°o l·ªói -->
            <dialog id="errDialog">
                <div id="modificationDetails">
                    <i class="fas fa-exclamation-triangle" style="color: red; font-size: 30px;"></i>
                    <h2>üîî Th√¥ng B√°o L·ªói:</h2>
                    <p id="error"></p>
                    <button id="closeDialog">ƒê√≥ng</button>
                </div>
            </dialog>
            <dialog id="successfullyDialog">
                <div class="notification">
                    <h2>üîî Th√¥ng B√°o:</h2>
                    <p id="notificationSS">Kh√¥ng c√≥ l·ªói n√†o!</p>
                    <button id="closeDialogSS">ƒê√≥ng</button>
                </div>
            </dialog>

            <dialog id="confirmDialog">
                <p>B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a b√°o c√°o n√†y kh√¥ng?</p>
                <button id="confirmYes">X√≥a</button>
                <button id="confirmNo">Kh√¥ng</button>
            </dialog>
            <!-- Display Error Message if Any -->
            <div id="message"></div>

            <form id="changePasswordForm" action="/user/change-password" method="POST">
                <div class="form-group">
                    <label for="currentPassword">M·∫≠t kh·∫©u hi·ªán t·∫°i:</label>
                    <input type="password" id="currentPassword" name="currentPassword" required>
                </div>

                <div class="form-group">
                    <label for="newPassword">M·∫≠t kh·∫©u m·ªõi:</label>
                    <input type="password" id="newPassword" name="newPassword" required>
                </div>

                <div class="form-group">
                    <label for="confirmPassword">X√°c nh·∫≠n m·∫≠t kh·∫©u m·ªõi:</label>
                    <input type="password" id="confirmPassword" name="confirmPassword" required>
                </div>

                <button type="submit">Thay ƒë·ªïi m·∫≠t kh·∫©u</button>
            </form>
        </div>
    </main>
    <script src="../js/change-password.js"></script>
</body>

</html>